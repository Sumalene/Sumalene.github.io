<!-- <div class="page__footer-follow">
    <ul class="social-icons">
        {% if site.data.ui-text[site.locale].follow_label %}
        <li><strong>{{ site.data.ui-text[site.locale].follow_label }}</strong></li>
        {% endif %}

        {% if site.footer.links %}
        {% for link in site.footer.links %}
        {% if link.label and link.url %}
        <li><a href="{{ link.url }}" rel="nofollow noopener noreferrer"><i class="{{ link.icon | default: 'fas fa-link' }}" aria-hidden="true"></i> {{ link.label }}</a></li>
        {% endif %}
        {% endfor %}
        {% endif %}

        {% unless site.atom_feed.hide %}
        <li><a href="{% if site.atom_feed.path %}{{ site.atom_feed.path }}{% else %}{{ '/feed.xml' | relative_url }}{% endif %}"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> {{ site.data.ui-text[site.locale].feed_label | default: "Feed" }}</a></li>
        {% endunless %}
    </ul>
</div> -->

<!-- <div class="page__footer-copyright">&copy; {{ site.time | date: '%Y' }} {{ site.name | default: site.title }}. {{ site.data.ui-text[site.locale].powered_by | default: "Powered by" }} <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>
 -->
<div class="page__footer-copyright">
  &copy; {{ site.time | date: '%Y' }} March7th | 七陆北 . Theme by <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow"> M.M </a>.
  <span id="showsectime"></span>
</div>
<!-- <script type="text/javascript">
        function NewDate(str) {
            str = str.split('-');
            var date = new Date();
            date.setUTCFullYear(str[0], str[1] - 1, str[2]);
            date.setUTCHours(0, 0, 0, 0);
            return date;
        }
        function shows_time() {
            var startTime = new Date("2023-05-18T00:00:00");
            var currentTime = new Date();
            var timeElapsed = currentTime.getTime() - startTime.getTime();
            var secondsElapsed = Math.floor(timeElapsed / 1000);
            var minutesElapsed = Math.floor(secondsElapsed / 60);
            var hoursElapsed = Math.floor(minutesElapsed / 60);
            var daysElapsed = Math.floor(hoursElapsed / 24);
            hoursElapsed %= 24;
            minutesElapsed %= 60;
            secondsElapsed %= 60;
            var hoursString = hoursElapsed < 10 ? "0" + hoursElapsed : hoursElapsed;
            var minutesString = minutesElapsed < 10 ? "0" + minutesElapsed : minutesElapsed;
            var secondsString = secondsElapsed < 10 ? "0" + secondsElapsed : secondsElapsed;
            var dateString = currentTime.toISOString().split('T')[0];
            document.getElementById("showsectime").innerHTML = " Run-Anchor : " + daysElapsed + " Days . " + dateString +". "+ hoursString + ":" + minutesString + ":" + secondsString + "s";
            setTimeout(shows_time, 1000);
        }
        shows_time();
</script> -->

<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css"> 
<script src="https://fastly.jsdelivr.net/gh/lrplrplrp/bkyl2d@main/loads.js"></script> -->

<!--live2d，借用-> -->
<!-- <script src="https://files.cnblogs.com/files/blogs/769695/loads.js?t=1758598288"></script> -->
<script>
// 自执行函数避免污染全局作用域
(function() {
    // 配置
    const CONFIG = {
        live2d_path: "https://fastly.jsdelivr.net/gh/lrplrplrp/live2d@master/",
        model_path: "https://ghproxy.net/https://raw.githubusercontent.com/lrplrplrp/live2d_api/refs/heads/master/",
        minWidth: 768 // 最小加载宽度
    };
    
    // 加载资源
    function loadResource(url, type) {
        return new Promise((resolve, reject) => {
            const el = type === 'css' 
                ? Object.assign(document.createElement('link'), { rel: 'stylesheet', href: url })
                : Object.assign(document.createElement('script'), { src: url });
            
            el.onload = () => resolve(url);
            el.onerror = () => reject(url);
            document.head.appendChild(el);
        });
    }
    
    // 主加载函数
    async function initLive2D() {
        if (screen.width < CONFIG.minWidth) return;
        
        try {
            await Promise.all([
                loadResource(CONFIG.live2d_path + 'pixi.min.js', 'js'),
                loadResource(CONFIG.live2d_path + 'live2d.min.js', 'js'),
                loadResource(CONFIG.live2d_path + 'live2dcubismcore.min.js', 'js'),
                loadResource('https://libs.baidu.com/jquery/2.0.0/jquery.min.js', 'js'),
                loadResource(CONFIG.live2d_path + 'waifu.css', 'css'),
                loadResource('https://cdn.bootcdn.net/ajax/libs/font-awesome/6.0.0/css/all.min.css', 'css')
            ]);
            
            await loadResource(CONFIG.live2d_path + 'index.min.js', 'js');
            await loadResource(CONFIG.live2d_path + 'waifu-tips.js', 'js');
            
            // 等待初始化函数可用
            await new Promise(resolve => {
                const checkInit = () => typeof initWidget === 'function' ? resolve() : setTimeout(checkInit, 100);
                checkInit();
            });
            
            initWidget({
                waifuPath: CONFIG.model_path + 'waifu-tips.json',
                modelListPath: CONFIG.model_path + 'model_list.json',
                modelPath: CONFIG.model_path
            });
        } catch (e) {
            console.warn('Live2D加载失败，但不影响页面使用:', e);
        }
    }
    
    // 延迟加载，确保不阻塞主线程
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initLive2D);
    } else {
        setTimeout(initLive2D, 300);
    }
})();
</script>
